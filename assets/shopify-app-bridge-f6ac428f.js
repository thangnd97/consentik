import{c as N,g as sn}from"./react-dfcefdeb.js";var se={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});function He(e,n){if(n==null||typeof e>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(e),n)||n.constructor.name!=="Object"&&n.constructor.name!=="Array")return n;var i={};return Object.keys(n).forEach(function(r){var t=Object.prototype.hasOwnProperty.call(e,r);t&&typeof e[r]=="object"&&!Array.isArray(e[r])?i[r]=He(e[r],n[r]):i[r]=n[r]}),Object.keys(e).forEach(function(r){var t=Object.prototype.hasOwnProperty.call(n,r);t||(i[r]=e[r])}),Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}Le.default=He;var ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.SEPARATOR=ue.PREFIX=void 0;ue.PREFIX="APP";ue.SEPARATOR="::";var pe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentType=e.Group=void 0,function(n){n.AuthCode="AuthCode",n.Button="Button",n.ButtonGroup="ButtonGroup",n.Cart="Cart",n.Client="Client",n.ContextualSaveBar="ContextualSaveBar",n.Error="Error",n.Features="Features",n.FeedbackModal="FeedbackModal",n.Fullscreen="Fullscreen",n.LeaveConfirmation="LeaveConfirmation",n.Link="Link",n.Loading="Loading",n.Menu="Menu",n.Modal="Modal",n.Navigation="Navigation",n.Performance="Performance",n.Pos="Pos",n.Print="Print",n.ResourcePicker="Resource_Picker",n.unstable_Picker="unstable_Picker",n.Scanner="Scanner",n.SessionToken="SessionToken",n.Share="Share",n.TitleBar="TitleBar",n.Toast="Toast",n.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",n.WebVitals="WebVitals"}(e.Group||(e.Group={})),function(n){n.Button="Button",n.ButtonGroup="ButtonGroup"}(e.ComponentType||(e.ComponentType={}))})(pe);(function(e){var n=N&&N.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.forEachInEnum=e.getMergedProps=e.findMatchInEnum=e.getEventNameSpace=e.NonSnakeCaseGroup=e.actionWrapper=void 0;var i=n(Le),r=ue,t=pe;function d(a){return a}e.actionWrapper=d,e.NonSnakeCaseGroup=[t.Group.AuthCode,t.Group.Button,t.Group.ButtonGroup,t.Group.Cart,t.Group.Error,t.Group.Features,t.Group.Fullscreen,t.Group.Link,t.Group.Loading,t.Group.Menu,t.Group.Modal,t.Group.Navigation,t.Group.Pos,t.Group.Print,t.Group.ResourcePicker,t.Group.Scanner,t.Group.SessionToken,t.Group.Share,t.Group.TitleBar,t.Group.Toast,t.Group.unstable_Picker];function f(a){return a.replace(/([A-Z])/g,function(p,E,P){return(P===0?"":"_")+p[0].toLowerCase()})}function _(a){return e.NonSnakeCaseGroup.includes(a)?a.toUpperCase():f(a).toUpperCase()}function j(a,p,E){if(p.startsWith(""+r.PREFIX+r.SEPARATOR))return p;var P=_(a);if(E){var L=E.subgroups,C=E.type;L&&L.length>0&&(P+=P.length>0?r.SEPARATOR:"",L.forEach(function(k,Y){P+=""+k.toUpperCase()+(Y<L.length-1?r.SEPARATOR:"")})),C!==a&&C&&(P+=""+(P.length>0?r.SEPARATOR:"")+C.toUpperCase())}return P&&(P+=""+(P.length>0?r.SEPARATOR:"")+p.toUpperCase()),""+r.PREFIX+r.SEPARATOR+P}e.getEventNameSpace=j;function I(a,p){var E=Object.keys(a).find(function(P){return p===a[P]});return E?a[E]:void 0}e.findMatchInEnum=I;function y(a,p){var E=i.default(a,p);if(!E){var P=Object.assign(a,p);return P}return E}e.getMergedProps=y;function u(a,p){Object.keys(a).forEach(function(E){p(a[E])})}e.forEachInEnum=u;function g(a){return a==null||typeof a=="number"}e.isValidOptionalNumber=g;function l(a){return a==null||typeof a=="string"}e.isValidOptionalString=l;function o(a,p){var E=a.id;return E===p.id?(Object.assign(a,y(a,p)),!0):!1}e.updateActionFromPayload=o})(se);var le={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LifecycleHook=e.PermissionType=e.MessageType=void 0,function(n){n.GetState="getState",n.Dispatch="dispatch",n.Subscribe="subscribe",n.Unsubscribe="unsubscribe"}(e.MessageType||(e.MessageType={})),function(n){n.Dispatch="Dispatch",n.Subscribe="Subscribe"}(e.PermissionType||(e.PermissionType={})),function(n){n.UpdateAction="UpdateAction",n.DispatchAction="DispatchAction"}(e.LifecycleHook||(e.LifecycleHook={}))})(le);var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.removeFromCollection=ce.addAndRemoveFromCollection=void 0;function pn(e,n,i){return e.push(n),function(){return Ye(e,n,i)}}ce.addAndRemoveFromCollection=pn;function Ye(e,n,i){var r=e.findIndex(function(t){return t===n});return r>=0?(e.splice(r,1),i&&i(n),!0):!1}ce.removeFromCollection=Ye;var Pe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.permissionAction=e.isErrorEventName=e.throwError=e.invalidOriginAction=e.fromAction=e.AppBridgeError=e.AppActionType=e.Action=void 0;var n=pe,i=se,r;(function(u){u.INVALID_ACTION="APP::ERROR::INVALID_ACTION",u.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",u.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",u.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",u.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",u.PERSISTENCE="APP::ERROR::PERSISTENCE",u.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",u.NETWORK="APP::ERROR::NETWORK",u.PERMISSION="APP::ERROR::PERMISSION",u.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",u.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"})(r=e.Action||(e.Action={})),function(u){u.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",u.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",u.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",u.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",u.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",u.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",u.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",u.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",u.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK"}(e.AppActionType||(e.AppActionType={}));var t=function(){function u(g){this.name="AppBridgeError",this.message=g,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}return u}();e.AppBridgeError=t,t.prototype=Object.create(Error.prototype);function d(u,g,l){var o=u?g+": "+u:g,a=new t(o);return a.action=l,a.type=g,a}e.fromAction=d;function f(u){return i.actionWrapper({group:n.Group.Error,payload:{message:u,type:r.INVALID_ORIGIN},type:r.INVALID_ORIGIN})}e.invalidOriginAction=f;function _(){for(var u=[],g=0;g<arguments.length;g++)u[g]=arguments[g];var l=u[0],o,a;throw typeof u[1]=="string"?o=u[1]:(a=u[1],o=u[2]||""),d(o,l,a)}e.throwError=_;function j(u){var g=i.findMatchInEnum(r,u);return typeof g=="string"}e.isErrorEventName=j;function I(u,g,l){var o=g.payload;return i.actionWrapper({type:u,group:n.Group.Error,payload:{action:g,message:l,type:u,id:o&&o.id?o.id:void 0}})}function y(u,g){return I(r.PERMISSION,u,g||"Action is not permitted")}e.permissionAction=y})(Pe);var we={},Xe={},$={};Object.defineProperty($,"__esModule",{value:!0});$.isPermitted=$.getPermissionKey=$.isPerformanceOrWebVitalsAction=$.isAppMessage=$.isAppBridgeAction=void 0;var vn=le,ye=ue,mn=se;function gn(e){return e instanceof Object&&Object.prototype.hasOwnProperty.call(e,"type")&&e.type.toString().startsWith(ye.PREFIX)}$.isAppBridgeAction=gn;function An(e){if(typeof e!="object"||!e.data||typeof e.data!="object")return!1;var n=e.data;return Object.prototype.hasOwnProperty.call(n,"type")&&mn.findMatchInEnum(vn.MessageType,n.type)!==void 0}$.isAppMessage=An;function yn(e){var n=e.type;return n.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}$.isPerformanceOrWebVitalsAction=yn;function $e(e){return e.replace(new RegExp("^"+ye.PREFIX+ye.SEPARATOR+"\\w+"+ye.SEPARATOR),"")}$.getPermissionKey=$e;function Pn(e,n,i){var r=n.group,t=n.type;if(!r||!Object.prototype.hasOwnProperty.call(e,r))return!1;var d=e[r];if(!d)return!1;var f=$e(t);return d[f]?d[f][i]===!0:!1}$.isPermitted=Pn;var he={};(function(e){var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.isUnframed=e.isClient=e.isServer=void 0,e.isServer=typeof window>"u",e.isClient=!e.isServer,e.isUnframed=e.isClient&&((i=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||i===void 0?void 0:i.indexOf("Unframed"))>0})(he);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTransportListener=e.fromWindow=e.fromFrame=e.Context=void 0;var n=Pe,i=$,r=le,t=ce,d=he;(function(y){y.Modal="Modal",y.Main="Main"})(e.Context||(e.Context={}));function f(y,u,g){var l=[],o=y.host,a=y.window;if(!o)throw n.fromAction("App frame is undefined",n.AppActionType.WINDOW_UNDEFINED);return d.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(p,E){a?.postMessage(p,E),I(p)&&o.postMessage(JSON.stringify(p.payload),location.origin)},updateIframeUrl:function(p){var E=window.location,P=(y.window||{}).location;try{var L=new URL(p).origin;L===u&&P?P.replace(p):E.href=p}catch{}}}),o.addEventListener("message",function(p){if(!(p.source===o||!i.isAppMessage(p))){if(p.origin!==u){var E="Message origin '"+p.origin+"' does not match app origin '"+u+"'.",P=n.invalidOriginAction(E),L={type:"dispatch",payload:P};a?.postMessage(L,p.origin);return}if(d.isUnframed&&window.MobileWebView){var P=JSON.stringify({id:"unframed://fromClient",origin:u,data:p.data});window.MobileWebView.postMessage(P);return}for(var C=0,k=l;C<k.length;C++){var Y=k[C];Y(p)}}}),{context:g,localOrigin:u,frameWindow:a,hostFrame:o,dispatch:function(p){a?.postMessage(p,u)},subscribe:function(p){return t.addAndRemoveFromCollection(l,p)}}}e.fromFrame=f;function _(y,u){var g=[];return typeof window!==void 0&&window.addEventListener("message",function(l){if(!(window===y&&!d.isUnframed||l.source!==y||!(i.isAppBridgeAction(l.data.payload)||i.isAppMessage(l))))for(var o=0,a=g;o<a.length;o++){var p=a[o];p(l)}}),{localOrigin:u,hostFrame:y,dispatch:function(l){var o;if(!((o=l.source)===null||o===void 0)&&o.host){if(d.isUnframed&&window&&window.MobileWebView){var a=JSON.stringify({id:"unframed://fromClient",origin:u,data:l});window.MobileWebView.postMessage(a);return}var p=new URL("https://"+l.source.host).origin;y.postMessage(l,p)}},subscribe:function(l){return t.addAndRemoveFromCollection(g,l)}}}e.fromWindow=_;function j(){var y=[],u={};function g(l){function o(){if(arguments.length<2)return t.addAndRemoveFromCollection(y,{callback:arguments[0]});var a=Array.from(arguments),p=a[0],E=a[1],P=a[2],L={callback:E,id:P},C={type:p,id:P};return Object.prototype.hasOwnProperty.call(u,p)||(u[p]=[]),l&&l(r.MessageType.Subscribe,C),t.addAndRemoveFromCollection(u[p],L,function(){l&&l(r.MessageType.Unsubscribe,C)})}return o}return{createSubscribeHandler:g,handleMessage:function(l){y.forEach(function(o){return o.callback(l)})},handleActionDispatch:function(l){var o=l.type,a=l.payload,p=!1;if(Object.prototype.hasOwnProperty.call(u,o))for(var E=0,P=u[o];E<P.length;E++){var L=P[E],C=L.id,k=L.callback,Y=a&&a.id===C;(Y||!C)&&(k(a),p=!0)}return p}}}e.createTransportListener=j;function I(y){return y!==null&&typeof y=="object"&&!Array.isArray(y)&&y.type==="dispatch"&&typeof y.payload=="object"}})(Xe);(function(e){var n=N&&N.__createBinding||(Object.create?function(r,t,d,f){f===void 0&&(f=d),Object.defineProperty(r,f,{enumerable:!0,get:function(){return t[d]}})}:function(r,t,d,f){f===void 0&&(f=d),r[f]=t[d]}),i=N&&N.__exportStar||function(r,t){for(var d in r)d!=="default"&&!Object.prototype.hasOwnProperty.call(t,d)&&n(t,r,d)};Object.defineProperty(e,"__esModule",{value:!0}),i(Xe,e)})(we);var z={},be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isDevelopmentClient=e.isProduction=e.isDevelopment=e.isUnframed=e.isServer=e.isClient=void 0;var n=he,i=he;Object.defineProperty(e,"isClient",{enumerable:!0,get:function(){return i.isClient}}),Object.defineProperty(e,"isServer",{enumerable:!0,get:function(){return i.isServer}}),Object.defineProperty(e,"isUnframed",{enumerable:!0,get:function(){return i.isUnframed}}),e.isDevelopment=typeof process<"u"&&process.env&&!1,e.isProduction=!e.isDevelopment,e.isDevelopmentClient=e.isDevelopment&&n.isClient})(be);Object.defineProperty(z,"__esModule",{value:!0});z.isShopifyPing=z.isShopifyPOS=z.isShopifyMobile=z.isShopifyEmbedded=z.isMobile=void 0;var Ge=be;function hn(){return ze()||Ke()||Je()}z.isMobile=hn;function _n(){return Ge.isClient&&window.top!==window.self||Ge.isUnframed}z.isShopifyEmbedded=_n;function ze(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}z.isShopifyMobile=ze;function Ke(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}z.isShopifyPOS=Ke;function Je(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}z.isShopifyPing=Je;var ve={};const bn="@shopify/app-bridge",En="3.7.10",On="index.d.ts",In="index.js",Tn="umd/index.js",Nn="umd/index.js",Sn=["/actions/","/client/","/umd/","/utilities/","/util/","/validate/","/development.d.ts","/development.js","/index.d.ts","/index.js","/MessageTransport.d.ts","/MessageTransport.js","/production.d.ts","/production.js"],Cn={access:"public","@shopify:registry":"https://registry.npmjs.org"},Rn="git@github.com:Shopify/app-bridge.git",Mn="https://shopify.dev/docs/api/app-bridge/previous-versions/app-bridge-from-npm/app-setup",Ln="Shopify Inc.",wn="MIT",Dn={build:"yarn build:tsc && yarn build:npm && yarn build:umd","build:tsc":"NODE_ENV=production tsc","build:umd":"NODE_ENV=production webpack -p","build:npm":"shx cp -r ./npm/index.js ./index.js",check:"tsc",clean:"yarn clean:tsc && yarn clean:npm && yarn clean:umd","clean:tsc":"NODE_ENV=production tsc --build --clean","clean:umd":"rm -rf ./umd","clean:npm":"rm -rf ./index.js",pack:"yarn pack",size:"size-limit"},jn=!1,Fn={"@shopify/app-bridge-core":"1.1.1",base64url:"^3.0.1","web-vitals":"^3.0.1"},Wn={"@types/node":"^10.12.5",shx:"^0.3.3"},Vn={name:bn,version:En,types:On,main:In,unpkg:Tn,jsdelivr:Nn,files:Sn,private:!1,publishConfig:Cn,repository:Rn,homepage:Mn,author:Ln,license:wn,scripts:Dn,sideEffects:jn,"size-limit":[{limit:"10.5 KB",path:"production.js"}],dependencies:Fn,devDependencies:Wn};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPackageName=e.getVersion=e.getMergedProps=e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.NonSnakeCaseGroup=e.getEventNameSpace=e.forEachInEnum=e.findMatchInEnum=e.actionWrapper=void 0;var n=se;Object.defineProperty(e,"actionWrapper",{enumerable:!0,get:function(){return n.actionWrapper}}),Object.defineProperty(e,"findMatchInEnum",{enumerable:!0,get:function(){return n.findMatchInEnum}}),Object.defineProperty(e,"forEachInEnum",{enumerable:!0,get:function(){return n.forEachInEnum}}),Object.defineProperty(e,"getEventNameSpace",{enumerable:!0,get:function(){return n.getEventNameSpace}}),Object.defineProperty(e,"NonSnakeCaseGroup",{enumerable:!0,get:function(){return n.NonSnakeCaseGroup}}),Object.defineProperty(e,"isValidOptionalNumber",{enumerable:!0,get:function(){return n.isValidOptionalNumber}}),Object.defineProperty(e,"isValidOptionalString",{enumerable:!0,get:function(){return n.isValidOptionalString}}),Object.defineProperty(e,"updateActionFromPayload",{enumerable:!0,get:function(){return n.updateActionFromPayload}}),Object.defineProperty(e,"getMergedProps",{enumerable:!0,get:function(){return n.getMergedProps}});var i=Vn;function r(){return i.version}e.getVersion=r;function t(){return i.name}e.getPackageName=t})(ve);var Ee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentType=e.Group=void 0;var n=pe;Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return n.Group}}),Object.defineProperty(e,"ComponentType",{enumerable:!0,get:function(){return n.ComponentType}})})(Ee);var Ze={},qe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0,function(n){n.INITIALIZE="APP::CLIENT::INITIALIZE"}(e.Action||(e.Action={}))})(qe);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=e.Action=void 0;var n=qe;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return n.Action}});var i=Ee,r=ve;function t(){return r.actionWrapper({group:i.Group.Client,type:n.Action.INITIALIZE})}e.initialize=t})(Ze);var De={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.networkAction=e.persistenceAction=e.unsupportedOperationAction=e.unexpectedAction=e.invalidAction=e.invalidActionType=e.invalidPayload=e.Message=e.fromAction=e.Action=e.permissionAction=e.isErrorEventName=e.throwError=e.invalidOriginAction=e.AppBridgeError=e.AppActionType=void 0;var n=Pe;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return n.Action}}),Object.defineProperty(e,"fromAction",{enumerable:!0,get:function(){return n.fromAction}});var i=ve,r=Ee,t=Pe;Object.defineProperty(e,"AppActionType",{enumerable:!0,get:function(){return t.AppActionType}}),Object.defineProperty(e,"AppBridgeError",{enumerable:!0,get:function(){return t.AppBridgeError}}),Object.defineProperty(e,"invalidOriginAction",{enumerable:!0,get:function(){return t.invalidOriginAction}}),Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return t.throwError}}),Object.defineProperty(e,"isErrorEventName",{enumerable:!0,get:function(){return t.isErrorEventName}}),Object.defineProperty(e,"permissionAction",{enumerable:!0,get:function(){return t.permissionAction}});function d(l,o,a){var p=o.payload;return i.actionWrapper({type:l,group:r.Group.Error,payload:{action:o,message:a,type:l,id:p&&p.id?p.id:void 0}})}(function(l){l.MISSING_PAYLOAD="Missing payload",l.INVALID_PAYLOAD_ID="Id in payload is missing or invalid"})(e.Message||(e.Message={}));function f(l,o){return d(n.Action.INVALID_PAYLOAD,l,o||"The action's payload is missing required properties or has invalid properties")}e.invalidPayload=f;function _(l,o){return i.actionWrapper({group:r.Group.Error,payload:{action:l,message:o||"The action type is invalid or unsupported",type:n.Action.INVALID_ACTION_TYPE},type:n.Action.INVALID_ACTION_TYPE})}e.invalidActionType=_;function j(l,o){return i.actionWrapper({group:r.Group.Error,payload:{action:l,message:o||"The action's has missing/invalid values for `group`, `type` or `version`",type:n.Action.INVALID_ACTION},type:n.Action.INVALID_ACTION})}e.invalidAction=j;function I(l,o){return i.actionWrapper({group:r.Group.Error,payload:{action:l,message:o||"Action cannot be called at this time",type:n.Action.UNEXPECTED_ACTION},type:n.Action.UNEXPECTED_ACTION})}e.unexpectedAction=I;function y(l,o){return d(n.Action.UNSUPPORTED_OPERATION,l,o||"The action type is unsupported")}e.unsupportedOperationAction=y;function u(l,o){return d(n.Action.PERSISTENCE,l,o||"Action cannot be persisted on server")}e.persistenceAction=u;function g(l,o){return d(n.Action.NETWORK,l,o||"Network error")}e.networkAction=g})(De);var Qe={},xe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.app=e.Action=void 0;var n=se,i=pe,r;(function(d){d.APP="APP::PRINT::APP"})(r=e.Action||(e.Action={}));function t(){return n.actionWrapper({group:i.Group.Print,type:r.APP})}e.app=t})(xe);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.app=e.Action=void 0;var n=xe;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return n.Action}}),Object.defineProperty(e,"app",{enumerable:!0,get:function(){return n.app}})})(Qe);var en={},nn={},Ce={exports:{}};(function(e,n){(function(i,r){r(n)})(N,function(i){var r,t,d,f,_,j=-1,I=function(s){addEventListener("pageshow",function(c){c.persisted&&(j=c.timeStamp,s(c))},!0)},y=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},u=function(){var s=y();return s&&s.activationStart||0},g=function(s,c){var m=y(),h="navigate";return j>=0?h="back-forward-cache":m&&(document.prerendering||u()>0?h="prerender":document.wasDiscarded?h="restore":m.type&&(h=m.type.replace(/_/g,"-"))),{name:s,value:c===void 0?-1:c,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:h}},l=function(s,c,m){try{if(PerformanceObserver.supportedEntryTypes.includes(s)){var h=new PerformanceObserver(function(v){Promise.resolve().then(function(){c(v.getEntries())})});return h.observe(Object.assign({type:s,buffered:!0},m||{})),h}}catch{}},o=function(s,c,m,h){var v,O;return function(R){c.value>=0&&(R||h)&&((O=c.value-(v||0))||v===void 0)&&(v=c.value,c.delta=O,c.rating=function(D,S){return D>S[1]?"poor":D>S[0]?"needs-improvement":"good"}(c.value,m),s(c))}},a=function(s){requestAnimationFrame(function(){return requestAnimationFrame(function(){return s()})})},p=function(s){var c=function(m){m.type!=="pagehide"&&document.visibilityState!=="hidden"||s(m)};addEventListener("visibilitychange",c,!0),addEventListener("pagehide",c,!0)},E=function(s){var c=!1;return function(m){c||(s(m),c=!0)}},P=-1,L=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},C=function(s){document.visibilityState==="hidden"&&P>-1&&(P=s.type==="visibilitychange"?s.timeStamp:0,Y())},k=function(){addEventListener("visibilitychange",C,!0),addEventListener("prerenderingchange",C,!0)},Y=function(){removeEventListener("visibilitychange",C,!0),removeEventListener("prerenderingchange",C,!0)},Q=function(){return P<0&&(P=L(),k(),I(function(){setTimeout(function(){P=L(),k()},0)})),{get firstHiddenTime(){return P}}},re=function(s){document.prerendering?addEventListener("prerenderingchange",function(){return s()},!0):s()},A=[1800,3e3],b=function(s,c){c=c||{},re(function(){var m,h=Q(),v=g("FCP"),O=l("paint",function(R){R.forEach(function(D){D.name==="first-contentful-paint"&&(O.disconnect(),D.startTime<h.firstHiddenTime&&(v.value=Math.max(D.startTime-u(),0),v.entries.push(D),m(!0)))})});O&&(m=o(s,v,A,c.reportAllChanges),I(function(R){v=g("FCP"),m=o(s,v,A,c.reportAllChanges),a(function(){v.value=performance.now()-R.timeStamp,m(!0)})}))})},T=[.1,.25],w=function(s,c){c=c||{},b(E(function(){var m,h=g("CLS",0),v=0,O=[],R=function(S){S.forEach(function(V){if(!V.hadRecentInput){var te=O[0],Se=O[O.length-1];v&&V.startTime-Se.startTime<1e3&&V.startTime-te.startTime<5e3?(v+=V.value,O.push(V)):(v=V.value,O=[V])}}),v>h.value&&(h.value=v,h.entries=O,m())},D=l("layout-shift",R);D&&(m=o(s,h,T,c.reportAllChanges),p(function(){R(D.takeRecords()),m(!0)}),I(function(){v=0,h=g("CLS",0),m=o(s,h,T,c.reportAllChanges),a(function(){return m()})}),setTimeout(m,0))}))},M={passive:!0,capture:!0},Z=new Date,U=function(s,c){r||(r=c,t=s,d=new Date,ie(removeEventListener),x())},x=function(){if(t>=0&&t<d-Z){var s={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t};f.forEach(function(c){c(s)}),f=[]}},X=function(s){if(s.cancelable){var c=(s.timeStamp>1e12?new Date:performance.now())-s.timeStamp;s.type=="pointerdown"?function(m,h){var v=function(){U(m,h),R()},O=function(){R()},R=function(){removeEventListener("pointerup",v,M),removeEventListener("pointercancel",O,M)};addEventListener("pointerup",v,M),addEventListener("pointercancel",O,M)}(c,s):U(c,s)}},ie=function(s){["mousedown","keydown","touchstart","pointerdown"].forEach(function(c){return s(c,X,M)})},ee=[100,300],ae=function(s,c){c=c||{},re(function(){var m,h=Q(),v=g("FID"),O=function(S){S.startTime<h.firstHiddenTime&&(v.value=S.processingStart-S.startTime,v.entries.push(S),m(!0))},R=function(S){S.forEach(O)},D=l("first-input",R);m=o(s,v,ee,c.reportAllChanges),D&&p(E(function(){R(D.takeRecords()),D.disconnect()})),D&&I(function(){var S;v=g("FID"),m=o(s,v,ee,c.reportAllChanges),f=[],t=-1,r=null,ie(addEventListener),S=O,f.push(S),x()})})},oe=0,K=1/0,ne=0,me=function(s){s.forEach(function(c){c.interactionId&&(K=Math.min(K,c.interactionId),ne=Math.max(ne,c.interactionId),oe=ne?(ne-K)/7+1:0)})},ge=function(){return _?oe:performance.interactionCount||0},F=function(){"interactionCount"in performance||_||(_=l("event",me,{type:"event",buffered:!0,durationThreshold:0}))},G=[200,500],B=0,H=function(){return ge()-B},W=[],q={},de=function(s){var c=W[W.length-1],m=q[s.interactionId];if(m||W.length<10||s.duration>c.latency){if(m)m.entries.push(s),m.latency=Math.max(m.latency,s.duration);else{var h={id:s.interactionId,latency:s.duration,entries:[s]};q[h.id]=h,W.push(h)}W.sort(function(v,O){return O.latency-v.latency}),W.splice(10).forEach(function(v){delete q[v.id]})}},We=function(s,c){c=c||{},re(function(){var m;F();var h,v=g("INP"),O=function(D){D.forEach(function(te){te.interactionId&&de(te),te.entryType==="first-input"&&!W.some(function(Se){return Se.entries.some(function(Ue){return te.duration===Ue.duration&&te.startTime===Ue.startTime})})&&de(te)});var S,V=(S=Math.min(W.length-1,Math.floor(H()/50)),W[S]);V&&V.latency!==v.value&&(v.value=V.latency,v.entries=V.entries,h())},R=l("event",O,{durationThreshold:(m=c.durationThreshold)!==null&&m!==void 0?m:40});h=o(s,v,G,c.reportAllChanges),R&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&R.observe({type:"first-input",buffered:!0}),p(function(){O(R.takeRecords()),v.value<0&&H()>0&&(v.value=0,v.entries=[]),h(!0)}),I(function(){W=[],B=ge(),v=g("INP"),h=o(s,v,G,c.reportAllChanges)}))})},Ie=[2500,4e3],Te={},Ve=function(s,c){c=c||{},re(function(){var m,h=Q(),v=g("LCP"),O=function(S){var V=S[S.length-1];V&&V.startTime<h.firstHiddenTime&&(v.value=Math.max(V.startTime-u(),0),v.entries=[V],m())},R=l("largest-contentful-paint",O);if(R){m=o(s,v,Ie,c.reportAllChanges);var D=E(function(){Te[v.id]||(O(R.takeRecords()),R.disconnect(),Te[v.id]=!0,m(!0))});["keydown","click"].forEach(function(S){addEventListener(S,function(){return setTimeout(D,0)},!0)}),p(D),I(function(S){v=g("LCP"),m=o(s,v,Ie,c.reportAllChanges),a(function(){v.value=performance.now()-S.timeStamp,Te[v.id]=!0,m(!0)})})}})},Ne=[800,1800],ln=function s(c){document.prerendering?re(function(){return s(c)}):document.readyState!=="complete"?addEventListener("load",function(){return s(c)},!0):setTimeout(c,0)},Be=function(s,c){c=c||{};var m=g("TTFB"),h=o(s,m,Ne,c.reportAllChanges);ln(function(){var v=y();if(v){var O=v.responseStart;if(O<=0||O>performance.now())return;m.value=Math.max(O-u(),0),m.entries=[v],h(!0),I(function(){m=g("TTFB",0),(h=o(s,m,Ne,c.reportAllChanges))(!0)})}})};i.CLSThresholds=T,i.FCPThresholds=A,i.FIDThresholds=ee,i.INPThresholds=G,i.LCPThresholds=Ie,i.TTFBThresholds=Ne,i.getCLS=w,i.getFCP=b,i.getFID=ae,i.getINP=We,i.getLCP=Ve,i.getTTFB=Be,i.onCLS=w,i.onFCP=b,i.onFID=ae,i.onINP=We,i.onLCP=Ve,i.onTTFB=Be})})(Ce,Ce.exports);var Bn=Ce.exports,tn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0,function(n){n.LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",n.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",n.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",n.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",n.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",n.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT"}(e.Action||(e.Action={}))})(tn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeWebVitals=e.interactionToNextPaint=e.timeToFirstByte=e.firstContentfulPaint=e.cumulativeLayoutShift=e.firstInputDelay=e.largestContentfulPaint=e.Action=void 0;var n=Bn,i=tn;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return i.Action}});var r=be,t=Ee,d=ve,f=z;function _(o){return d.actionWrapper({group:t.Group.WebVitals,type:i.Action.LARGEST_CONTENTFUL_PAINT,payload:o})}e.largestContentfulPaint=_;function j(o){return d.actionWrapper({group:t.Group.WebVitals,type:i.Action.FIRST_INPUT_DELAY,payload:o})}e.firstInputDelay=j;function I(o){return d.actionWrapper({group:t.Group.WebVitals,type:i.Action.CUMULATIVE_LAYOUT_SHIFT,payload:o})}e.cumulativeLayoutShift=I;function y(o){return d.actionWrapper({group:t.Group.WebVitals,type:i.Action.FIRST_CONTENTFUL_PAINT,payload:o})}e.firstContentfulPaint=y;function u(o){return d.actionWrapper({group:t.Group.WebVitals,type:i.Action.TIME_TO_FIRST_BYTE,payload:o})}e.timeToFirstByte=u;function g(o){return d.actionWrapper({group:t.Group.WebVitals,type:i.Action.INTERACTION_TO_NEXT_PAINT,payload:o})}e.interactionToNextPaint=g;function l(o){function a(E){return function(P){var L=P.id,C=P.name,k=P.value,Y={id:L,metricName:C,value:k},Q=E(Y);o.dispatch(Q)}}var p=window;r.isServer||r.isClient&&p.__is_web_vitals_initialized__||f.isMobile()||(p.__is_web_vitals_initialized__=!0,n.onLCP(a(_)),n.onFID(a(j)),n.onCLS(a(I)),n.onFCP(a(y)),n.onTTFB(a(u)),n.onINP(a(g)))}e.initializeWebVitals=l})(nn);(function(e){var n=N&&N.__createBinding||(Object.create?function(r,t,d,f){f===void 0&&(f=d),Object.defineProperty(r,f,{enumerable:!0,get:function(){return t[d]}})}:function(r,t,d,f){f===void 0&&(f=d),r[f]=t[d]}),i=N&&N.__exportStar||function(r,t){for(var d in r)d!=="default"&&!Object.prototype.hasOwnProperty.call(t,d)&&n(t,r,d)};Object.defineProperty(e,"__esModule",{value:!0}),i(nn,e)})(en);var rn={exports:{}},an={},Re={},Me={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.mockAppBridge=fe.serverAppBridge=void 0;var Ae=De,_e=function(){},ke=new Promise(function(){});fe.serverAppBridge={dispatch:function(){return{}},error:function(){return _e},featuresAvailable:function(){return Promise.reject(Ae.fromAction("Feature detection is only available on the client side.",Ae.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject(Ae.fromAction("State is only available on the client side.",Ae.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return _e}};fe.mockAppBridge={dispatch:function(){return{}},error:function(){return _e},featuresAvailable:function(){return ke},getState:function(){return ke},localOrigin:"",hostOrigin:"",subscribe:function(){return _e}};var Oe={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.getWindow=J.getLocation=J.redirect=J.shouldRedirect=void 0;function Un(e){return e===window}J.shouldRedirect=Un;function Gn(e){var n=on();n&&n.assign(e)}J.redirect=Gn;function on(){return un()?window.location:void 0}J.getLocation=on;function kn(){return un()?window:void 0}J.getWindow=kn;function un(){return typeof window<"u"}Object.defineProperty(Oe,"__esModule",{value:!0});Oe.handleAppPrint=void 0;var cn=J;function Hn(){return navigator.userAgent.indexOf("iOS")>=0}function Yn(){var e=cn.getWindow();if(!(!e||!e.document||!e.document.body)){var n=e.document.createElement("input");return n.style.display="none",e.document.body.appendChild(n),n}}function dn(){var e;(e=cn.getWindow())===null||e===void 0||e.print()}function Xn(){var e=Yn();e&&(e.select(),dn(),e.remove())}function $n(){Hn()?Xn():dn()}Oe.handleAppPrint=$n;var je={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isV1Config=e.MessageType=e.LifecycleHook=e.PermissionType=void 0;var n=le;Object.defineProperty(e,"MessageType",{enumerable:!0,get:function(){return n.MessageType}});var i=le;Object.defineProperty(e,"PermissionType",{enumerable:!0,get:function(){return i.PermissionType}}),Object.defineProperty(e,"LifecycleHook",{enumerable:!0,get:function(){return i.LifecycleHook}});function r(t){return!t.host}e.isV1Config=r})(je);var Fe={},fn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromCollection=e.addAndRemoveFromCollection=void 0;var n=ce;Object.defineProperty(e,"addAndRemoveFromCollection",{enumerable:!0,get:function(){return n.addAndRemoveFromCollection}}),Object.defineProperty(e,"removeFromCollection",{enumerable:!0,get:function(){return n.removeFromCollection}})})(fn);Object.defineProperty(Fe,"__esModule",{value:!0});var zn=fn,Kn=function(){function e(){this.map={}}return e.prototype.set=function(n,i){Object.prototype.hasOwnProperty.call(this.map,n)||(this.map[n]=[]);var r={handler:i,remove:function(){}},t=zn.addAndRemoveFromCollection(this.map[n],r);return r={handler:i,remove:t},t},e.prototype.get=function(n){var i=this.map[n];return i?i.map(function(r){return r.handler}):void 0},e.prototype.run=function(n,i,r){for(var t=[],d=3;d<arguments.length;d++)t[d-3]=arguments[d];var f=0,_=this.get(n)||[];function j(){for(var I=[],y=0;y<arguments.length;y++)I[y]=arguments[y];var u=_[f++];return u?u(j).apply(r,I):i.apply(r,I)}return j.apply(r,t)},e}();Fe.default=Kn;(function(e){var n=N&&N.__assign||function(){return n=Object.assign||function(A){for(var b,T=1,w=arguments.length;T<w;T++){b=arguments[T];for(var M in b)Object.prototype.hasOwnProperty.call(b,M)&&(A[M]=b[M])}return A},n.apply(this,arguments)},i=N&&N.__spreadArray||function(A,b){for(var T=0,w=b.length,M=A.length;T<w;T++,M++)A[M]=b[T];return A},r=N&&N.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.createApp=e.createAppWrapper=e.createClientApp=e.WINDOW_UNDEFINED_MESSAGE=void 0;var t=ve,d=Qe,f=De,_=we,j=fe,I=be,y=Ze,u=en,g=Oe,l=J,o=je,a=r(Fe);e.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";function p(A,b){var T=b.apiKey,w=b.host,M=b.forceRedirect,Z=M===void 0?!I.isDevelopmentClient:M,U=l.getLocation();if(I.isUnframed||!U||!T||!w||!Z||!l.shouldRedirect(A))return!1;var x="https://"+w+"/apps/"+T+U.pathname+(U.search||"");return l.redirect(x),!0}var E=function(A){return function(b){return A(n(n({},b),{version:t.getVersion(),clientInterface:{name:t.getPackageName(),version:t.getVersion()}}))}},P=function(A){A.set(o.LifecycleHook.DispatchAction,E)};function L(A){A.subscribe(d.Action.APP,g.handleAppPrint),A.dispatch(y.initialize());try{u.initializeWebVitals(A)}catch(b){console.error("App-Bridge failed to initialize web-vitals",b)}}var C=function(A,b){b===void 0&&(b=[]);var T=[],w=_.createTransportListener(),M=function(Z){var U=Z.data,x=U.type,X=U.payload;switch(x){case"getState":{var ie=T.splice(0);ie.forEach(function(oe){return oe(X)});break}case"dispatch":{w.handleMessage(X);var ee=w.handleActionDispatch(X);if(ee)return;var ae=t.findMatchInEnum(f.Action,X.type);ae&&f.throwError(ae,X);break}}};return A.subscribe(M),function(Z){var U=k(Z),x=p(A.hostFrame,U);if(x)return j.mockAppBridge;var X=re(A,U),ie=w.createSubscribeHandler(X);X(o.MessageType.Unsubscribe);function ee(F){return X(o.MessageType.Dispatch,F),F}for(var ae=new URL("https://"+U.host).origin,oe=new a.default,K={hostOrigin:ae,localOrigin:A.localOrigin,hooks:oe,dispatch:function(F){return K.hooks?K.hooks.run(o.LifecycleHook.DispatchAction,ee,K,F):ee(F)},featuresAvailable:function(){for(var F=[],G=0;G<arguments.length;G++)F[G]=arguments[G];var B=F[0],H=Array.isArray(B)?i([],B):F;return K.getState("features").then(function(W){return H.length?H.reduce(function(q,de){return Object.keys(W).includes(de)&&(q[de]=W[de]),q},{}):W})},getState:function(F){return F&&typeof F!="string"?Promise.resolve(void 0):new Promise(function(G){T.push(G),X(o.MessageType.GetState)}).then(function(G){var B=G;if(F)for(var H=0,W=F.split(".");H<W.length;H++){var q=W[H];if(B==null||typeof B!="object"||Array.isArray(B)||!Object.keys(B).includes(q))return;B=B[q]}return B})},subscribe:ie,error:function(F,G){var B=[];return t.forEachInEnum(f.Action,function(H){B.push(ie(H,F,G))}),function(){B.forEach(function(H){return H()})}}},ne=0,me=b;ne<me.length;ne++){var ge=me[ne];ge(oe,K)}return L(K),K}};e.createClientApp=C;function k(A){var b;if(!A.host)throw f.fromAction("host must be provided",f.AppActionType.INVALID_CONFIG);if(!A.apiKey)throw f.fromAction("apiKey must be provided",f.AppActionType.INVALID_CONFIG);try{var T=atob((b=A.host)===null||b===void 0?void 0:b.replace(/_/g,"/").replace(/-/g,"+"));return n(n({},A),{host:T})}catch{var w="not a valid host, please use the value provided by Shopify";throw f.fromAction(w,f.AppActionType.INVALID_CONFIG)}}function Y(A,b,T){if(T===void 0&&(T=[]),!A)throw f.fromAction(e.WINDOW_UNDEFINED_MESSAGE,f.AppActionType.WINDOW_UNDEFINED);var w=l.getLocation(),M=b||w&&w.origin;if(!M)throw f.fromAction("local origin cannot be blank",f.AppActionType.MISSING_LOCAL_ORIGIN);var Z=_.fromWindow(A,M),U=e.createClientApp(Z,i([P],T));return U}e.createAppWrapper=Y;function Q(A){var b=l.getWindow();return!b||!b.top?j.serverAppBridge:Y(b.top)(A)}e.createApp=Q;function re(A,b){return function(T,w){A.dispatch({payload:w,source:b,type:T})}}e.default=Q})(Me);(function(e){var n=N&&N.__createBinding||(Object.create?function(t,d,f,_){_===void 0&&(_=f),Object.defineProperty(t,_,{enumerable:!0,get:function(){return d[f]}})}:function(t,d,f,_){_===void 0&&(_=f),t[_]=d[f]}),i=N&&N.__exportStar||function(t,d){for(var f in t)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&n(d,t,f)};Object.defineProperty(e,"__esModule",{value:!0});var r=Me;i(je,e),i(Me,e),e.default=r.createClientApp})(Re);(function(e){var n=N&&N.__createBinding||(Object.create?function(t,d,f,_){_===void 0&&(_=f),Object.defineProperty(t,_,{enumerable:!0,get:function(){return d[f]}})}:function(t,d,f,_){_===void 0&&(_=f),t[_]=d[f]}),i=N&&N.__exportStar||function(t,d){for(var f in t)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&n(d,t,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=Re;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.createApp}}),i(we,e),i(Re,e)})(an);rn.exports=an;var Jn=rn.exports;const qn=sn(Jn);export{Ze as C,we as M,Qe as P,en as W,Pe as _,le as a,ve as b,ce as c,Ee as d,De as e,Jn as f,be as g,se as h,qn as i,z as p,pe as t,$ as v};
